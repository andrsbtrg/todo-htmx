<div id="ticket-table" class="responsive-three-column-grid">
	<div>

		{% let len = tickets_todo.len() %}
		<div class="inline">
			<h3 class="inline">to-do</h3>
			<p class="inline"> {{ len }} </p>
			<button hx-get="/tickets/new" hx-target="#tickets" hx-swap="afterbegin" class="arrow-button"> â•
			</button>
		</div>
		<div id="tickets">
			{% for ticket in tickets_todo %}
			<div class="card">
				<div class="card-header">{{ ticket.title }}</div>
				<div class="card-body">
					<p>{{ ticket.description }}</p>
					<p class="small-text">{{ticket.created_at|fmtdate}}</p>

					<div class="status-indicator">{{ticket.status}}</div>
					<!-- <p>Status: {{ticket.status}}</p> -->

					<button class="arrow-button" hx-put="/tickets/{{ticket.id}}/doing" hx-target="#ticket-table"
						hx-swap="outerHTML">â¡ï¸ </button>

					<p class="small-text">Created by: {{ticket.creator_name}}</p>
					<p class="small-text">ID: {{ticket.id}}</p>
				</div>
			</div>
			{% endfor %}
		</div>
	</div>
	<div>
		{% let len_doing = tickets_doing.len() %}
		<div class="inline">
			<h3 class="inline">doing</h3>
			<p class="inline"> {{ len_doing }} </p>
		</div>
		<div id="tickets-doing">
			{% for ticket in tickets_doing %}
			<div class="card">
				<div class="card-header">{{ ticket.title }}</div>
				<div class="card-body">
					<p> {{ ticket.description }}</p>
					<p class="small-text">{{ticket.created_at|fmtdate}}</p>

					<div class="status-indicator">{{ticket.status}}</div>
					<!-- <p>Status: {{ticket.status}}</p> -->

					<button class="arrow-button" hx-put="/tickets/{{ticket.id}}/todo" hx-target="#ticket-table"
						hx-swap="outerHTML">â¬…ï¸ </button>
					<button class="arrow-button" hx-put="/tickets/{{ticket.id}}/done" hx-target="#ticket-table"
						hx-swap="outerHTML">â˜‘ï¸ </button>
					<p class="small-text">Created by: {{ticket.creator_name}}</p>
					<p class="small-text">ID: {{ticket.id}}</p>
				</div>
			</div>
			{% endfor %}
		</div>
	</div>
	<div>
		{% let len_done = tickets_done.len() %}
		<div class="inline">
			<h3 class="inline">done</h3>
			<p class="inline"> {{ len_done }} </p>
		</div>
		<div id="tickets-done">
			{% for ticket in tickets_done %}
			<div class="card">
				<div class="card-header">{{ ticket.title }}</div>
				<div class="card-body">
					<p>{{ ticket.description }}</p>
					<p class="small-text">{{ticket.created_at|fmtdate}}</p>

					<div class="status-indicator">{{ticket.status}}</div>

					<button class="arrow-button" hx-put="/tickets/{{ticket.id}}/doing" hx-target="#ticket-table"
						hx-swap="outerHTML">â¬…ï¸ </button>

					<p class="small-text">Created by: {{ticket.creator_name}}</p>
					<p class="small-text">ID: {{ticket.id}}</p>
					<button class="delete-button" hx-delete="/tickets/{{ ticket.id }}" hx-target="closest .card"
						hx-confirm="Are you sure you want to delete this ticket?" hx-swap="delete">
						Delete ğŸ—‘ï¸
					</button>
				</div>
			</div>
			{% endfor %}
		</div>
	</div>

</div>
